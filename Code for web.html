<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brain Booster ‚Äì Study Tracker</title>
  <style>
    :root {
      --bg: #0f172a;
      --card: #111827;
      --muted: #94a3b8;
      --text: #e5e7eb;
      --accent: #22c55e;
      --accent2: #38bdf8;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: linear-gradient(120deg, #020617, var(--bg)); color: var(--text);
    }
    header {
      padding: 20px; text-align: center;
    }
    header h1 { margin: 0 0 6px; font-size: 1.8rem; }
    header p { margin: 0; color: var(--muted); }

    .container {
      max-width: 980px; margin: 0 auto; padding: 16px;
      display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 16px;
    }

    .card {
      background: radial-gradient(120% 120% at 0% 0%, #0b1220, var(--card));
      border: 1px solid #1f2937; border-radius: 16px; padding: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }

    .card h2 { margin-top: 0; font-size: 1.2rem; }
    label { display: block; font-size: .9rem; color: var(--muted); margin: 8px 0 4px; }
    input, select, button, textarea {
      width: 100%; padding: 10px; border-radius: 10px; border: 1px solid #1f2937;
      background: #020617; color: var(--text);
    }
    button.primary { background: linear-gradient(90deg, var(--accent), var(--accent2)); border: none; color: #020617; font-weight: 700; }
    button.ghost { background: transparent; border: 1px dashed #334155; }
    .row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .small { font-size: .85rem; color: var(--muted); }

    .timer { font-size: 2.2rem; text-align: center; margin: 8px 0; }
    .timer-controls { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }

    canvas { width: 100%; height: 220px; background: #020617; border-radius: 12px; border: 1px solid #1f2937; }

    footer { text-align: center; padding: 18px; color: var(--muted); }
  </style>
</head>
<body>
  <header>
    <h1>üß† Brain Booster</h1>
    <p>Track focus, breaks, sleep, and mood to build better brain habits.</p>
  </header>

  <section class="container">
    <!-- Focus Timer -->
    <div class="card">
      <h2>Focus Timer</h2>
      <label>Session Length (minutes)</label>
      <input id="focusLength" type="number" min="5" step="5" value="25" />
      <div class="timer" id="timer">25:00</div>
      <div class="timer-controls">
        <button class="primary" onclick="startTimer()">Start</button>
        <button class="ghost" onclick="pauseTimer()">Pause</button>
        <button class="ghost" onclick="resetTimer()">Reset</button>
      </div>
      <p class="small">Tip: 25‚Äì30 min focus + short breaks improves attention.</p>
    </div>

    <!-- Daily Log -->
    <div class="card">
      <h2>Daily Brain Log</h2>
      <label>Sleep (hours)</label>
      <input id="sleep" type="number" min="0" max="14" step="0.5" placeholder="e.g., 7.5" />
      <label>Mood</label>
      <select id="mood">
        <option value="1">üò£ Low</option>
        <option value="2">üòê Okay</option>
        <option value="3">üôÇ Good</option>
        <option value="4">üòÑ Great</option>
      </select>
      <label>Notes</label>
      <textarea id="notes" rows="3" placeholder="What helped or hurt focus today?"></textarea>
      <button class="primary" style="margin-top:10px" onclick="saveDay()">Save Today</button>
    </div>

    <!-- Stats -->
    <div class="card">
      <h2>Weekly Stats</h2>
      <canvas id="chart"></canvas>
      <p class="small">Local-only data (saved in your browser).</p>
      <button class="ghost" onclick="clearData()">Clear Data</button>
    </div>

    <!-- About / Monetization -->
    <div class="card">
      <h2>Why This Helps</h2>
      <ul class="small">
        <li>Builds habits tied to memory and attention.</li>
        <li>Teaches you UX, data tracking, and iteration.</li>
        <li>Great base for future features (AI tips, exports).</li>
      </ul>
      <p class="small"><strong>Monetization idea:</strong> Free basic tracking. Paid upgrade for charts export, reminders, and focus tips.</p>
    </div>
  </section>

  <footer>Made for students ‚Ä¢ Brain Booster</footer>

  <script>
    // ===== Timer =====
    let timerInterval = null;
    let remaining = 25 * 60;

    function updateDisplay() {
      const m = String(Math.floor(remaining / 60)).padStart(2, '0');
      const s = String(remaining % 60).padStart(2, '0');
      document.getElementById('timer').textContent = `${m}:${s}`;
    }

    function startTimer() {
      if (timerInterval) return;
      timerInterval = setInterval(() => {
        if (remaining > 0) {
          remaining--;
          updateDisplay();
        } else {
          clearInterval(timerInterval);
          timerInterval = null;
          logFocusSession();
          alert('Focus session complete! Take a short break.');
        }
      }, 1000);
    }

    function pauseTimer() {
      clearInterval(timerInterval);
      timerInterval = null;
    }

    function resetTimer() {
      pauseTimer();
      const mins = Number(document.getElementById('focusLength').value || 25);
      remaining = mins * 60;
      updateDisplay();
    }

    document.getElementById('focusLength').addEventListener('change', resetTimer);

    // ===== Data =====
    const KEY = 'brain_booster_days';

    function getData() {
      return JSON.parse(localStorage.getItem(KEY) || '[]');
    }

    function setData(d) {
      localStorage.setItem(KEY, JSON.stringify(d));
    }

    function todayStr() {
      return new Date().toISOString().slice(0,10);
    }

    function saveDay() {
      const sleep = Number(document.getElementById('sleep').value || 0);
      const mood = Number(document.getElementById('mood').value);
      const notes = document.getElementById('notes').value;
      const data = getData();
      const t = todayStr();
      const existing = data.find(d => d.date === t) || { date: t, focus: 0 };
      existing.sleep = sleep;
      existing.mood = mood;
      existing.notes = notes;
      if (!data.find(d => d.date === t)) data.push(existing);
      setData(data);
      drawChart();
      alert('Saved!');
    }

    function logFocusSession() {
      const data = getData();
      const t = todayStr();
      let day = data.find(d => d.date === t);
      if (!day) { day = { date: t, focus: 0 }; data.push(day); }
      day.focus = (day.focus || 0) + 1;
      setData(data);
      drawChart();
    }

    function clearData() {
      if (confirm('Clear all local data?')) {
        localStorage.removeItem(KEY);
        drawChart();
      }
    }

    // ===== Chart (simple canvas) =====
    function drawChart() {
      const c = document.getElementById('chart');
      const ctx = c.getContext('2d');
      const data = getData().slice(-7);
      const W = c.width = c.clientWidth * devicePixelRatio;
      const H = c.height = c.clientHeight * devicePixelRatio;
      ctx.scale(devicePixelRatio, devicePixelRatio);
      ctx.clearRect(0,0,c.clientWidth,c.clientHeight);

      // Axes
      ctx.strokeStyle = '#334155'; ctx.lineWidth = 1;
      ctx.beginPath(); ctx.moveTo(40,10); ctx.lineTo(40,200); ctx.lineTo(c.clientWidth-10,200); ctx.stroke();

      // Bars: focus sessions
      const maxFocus = Math.max(1, ...data.map(d => d.focus || 0));
      const barW = (c.clientWidth - 60) / Math.max(1, data.length);
      data.forEach((d,i) => {
        const h = (d.focus || 0) / maxFocus * 150;
        ctx.fillStyle = '#22c55e';
        ctx.fillRect(45 + i*barW, 200 - h, barW*0.6, h);
        ctx.fillStyle = '#94a3b8'; ctx.font = '10px system-ui';
        ctx.fillText(d.date.slice(5), 45 + i*barW, 215);
      });
    }

    // Init
    resetTimer();
    drawChart();
  </script>
</body>
</html>
